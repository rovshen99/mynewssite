# MyNewsSite

MyNewsSite — это новостное приложение на Laravel, которое поддерживает как веб-интерфейс для отображения новостей, так и API для работы с новостями. Включает функционал авторизации, регистрации пользователей, а также административную панель для управления пользователями и новостями.

## Требования

Для корректной работы проекта необходимо установить следующие компоненты:

- PHP 8.1 или выше
- Composer
- Laravel 11.x
- База данных (SQLite)

## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/rovshen99/mynewssite.git
    cd mynewssite
    ```

2. Установите зависимости с помощью Composer:

    ```bash
    composer install
    ```

3. Скопируйте файл `.env.example` в `.env` и настройте конфигурацию для вашей базы данных и других сервисов:

    ```bash
    cp .env.example .env
    ```

4. Генерируйте ключ приложения:

    ```bash
    php artisan key:generate
    ```

5. Настройте параметры базы данных в файле `.env`. Пример для SQLite:

    ```bash
    DB_CONNECTION=sqlite
    DB_DATABASE=/path_to_your_project/database/database.sqlite
    ```

6. Выполните миграции для создания таблиц в базе данных:

    ```bash
    php artisan migrate
    ```

7. (Опционально) Запустите сидеры для заполнения базы данных тестовыми данными:

    ```bash
    php artisan db:seed
    ```

8. Запустите локальный сервер разработки:

    ```bash
    php artisan serve
    ```

    Проект будет доступен по адресу `http://127.0.0.1:8000`.

## API

### Доступные API маршруты

| Метод | URL             | Описание                                  |
|-------|-----------------|-------------------------------------------|
| GET   | `/api/news`      | Получить список всех новостей             |
| GET   | `/api/news/{id}` | Получить подробную информацию о новости   |

### Пример использования API

#### Получение списка новостей

```bash
GET http://127.0.0.1:8000/api/news
```

Пример ответа:
```
[
  {
    "id": 1,
    "title": "Заголовок новости",
    "description": "Описание новости",
    "author": "Автор",
    "created_at": "2024-09-17T14:54:00.000000Z",
    "updated_at": "2024-09-17T14:54:00.000000Z"
  },
  {
    "id": 2,
    "title": "Еще одна новость",
    "description": "Описание второй новости",
    "author": "Другой автор",
    "created_at": "2024-09-17T14:55:00.000000Z",
    "updated_at": "2024-09-17T14:55:00.000000Z"
  }
]
```
```
GET http://127.0.0.1:8000/api/news/{id}
```
```
{
  "id": 1,
  "title": "Заголовок новости",
  "description": "Описание новости",
  "author": "Автор",
  "created_at": "2024-09-17T14:54:00.000000Z",
  "updated_at": "2024-09-17T14:54:00.000000Z"
}
```
Административная панель

Администраторы могут управлять пользователями и новостями через административную панель. Для этого вам необходимо авторизоваться как администратор.

Маршруты административной панели:

	•	/admin/users — управление пользователями
	•	/admin/news — управление новостями

Права доступа:

	•	Администратор: Полный доступ ко всем функциям админки.
	•	Контент-менеджер: Доступ только к новостям (CRUD для новостей).

Авторизация и регистрация

Для использования веб-интерфейса новостей требуется регистрация и вход в систему.

	•	Страница регистрации: /register
	•	Страница входа: /login

Сессии и хранилище

	•	Сессии сохраняются в базе данных для авторизованных пользователей.
	•	Изображения новостей сохраняются в директории storage/app/public/images/news.
Не забудьте выполнить команду для создания симлинка для доступа к публичным файлам:

```php artisan storage:link```

Команды Artisan

	•	php artisan migrate — выполнить миграции
	•	php artisan db:seed — запустить сидеры для заполнения базы данных
	•	php artisan serve — запустить локальный сервер разработки

Тестирование

Для тестирования API и других компонентов вы можете использовать Postman или cURL.

Пример запроса через cURL:

```curl -X GET http://127.0.0.1:8000/api/news```